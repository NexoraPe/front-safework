<mat-card class="assignment-card" [class]="'status-' + assignment.status.toLowerCase()">
  <mat-card-content>
    <div class="priority-container">
      Priority:
      <button mat-button [matMenuTriggerFor]="priorityMenu" [color]="getPriorityColor(assignment.priority)">
        <strong>{{ assignment.priority }}</strong>
        <mat-icon iconPositionEnd>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #priorityMenu="matMenu">
        <button mat-menu-item (click)="changePriority.emit('HIGH')">ðŸ”´ HIGH</button>
        <button mat-menu-item (click)="changePriority.emit('MEDIUM')">ðŸŸ¡ MEDIUM</button>
        <button mat-menu-item (click)="changePriority.emit('LOW')">ðŸŸ¢ LOW</button>
      </mat-menu>
    </div>
  </mat-card-content>

  <mat-card-actions align="end">
    @if (canStart()) {
    <button mat-flat-button color="primary" (click)="start.emit(assignment.incidentId)">
      <mat-icon>play_arrow</mat-icon> Start
    </button>
    }

    @if (canClose()) {
    <button mat-flat-button color="warn" (click)="requestClose.emit(assignment)">
      <mat-icon>check_circle</mat-icon> Done
    </button>
    }

    @if (assignment.status === 'CLOSED') {
    <button mat-stroked-button color="accent" (click)="editDocument.emit(assignment)">
      <mat-icon>edit</mat-icon> Edit Proof
    </button>
    <button mat-button disabled>Closed</button>
    }
  </mat-card-actions>
</mat-card>